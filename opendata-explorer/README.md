Обновлено: 24.11.2017
___________________

В целом, entrypoint (/NBUStatService/v1/statdirectory/) удовлетворяет большинству требований для работы Open Data Explorer:

1. Есть entrypoint со ссылкой на датасеты со 100% доступностью.
2. В entrypoint доступны интервалы, разрезы и дата начала ввода данных по датасетам.
3. Все датасеты уточняются по интервалам freq=
4. Почти все dimension доступны (кроме odk070)
5. Почти у всех есть leveli=1

См. test.pdf и test.php

___________________

Но есть ряд нюансов, которые вынуждают писать патчи:

1. Невозможно вывести в drop-down списке опции разреза "Сектора економіки" odk070 (он недоступен)

2. Название разреза "Складові MACRO-покзників" mcr210i написано с опечаткой (пропущена буква).

3. Есть разрезы со странными опциями, например, "Територія" ku.
Там кроме регионов Украины есть подразделения НБУ.
Во-первых, чем отличается от "Регіони".
Во-вторых, используется в датасете "Ціни", т.е. согласно логике NBUStatService можно попробовать сделать запрос "покажите мне цены на алкогольные напитки и сигаретные изделия в Центральном хранилище НБУ".

4. Когда уточняем по id_api, то даты идут не по порядку. Например, отправив GET на https://bank.gov.ua/NBUStatService/v1/statdirectory/basindbank?freq=M&start=20170101&end=20170701&id_api=BS3_Assets&json
мы получим следующий порядок дат:
01.01.2017
01.03.2017
01.02.2017
01.04.2017
01.05.2017
01.06.2017
01.07.2017
Соответственно, нужно дополнительно сортировать объекты в массиве по дате (при этом отформатировав дату, чтобы функция сортировки ее опознала).

5. Получаем датасет, в объектах которого отсутствует единица измерения, соответственно не понятно это в тыс, млн, млрд? Это гривны или долл США?

6. Из всех разрезов разрез "Короткостроковий капітал" не работает без параметров: 
https://bank.gov.ua/NBUStatService/v1/statdirectory/shotextdebt&json

7. Есть нюансы с правильным отображением зависимостей parent. Например, для датасета basindbank "Основні показники діяльності банків України", "кількість діючих банків".
(еще нужно изучить)

8. Для графиков не очень хорошо, когда в группе датасетов попадаются разнокалиберные наборы. Например, в basindbank вместе расположены наборы в денежном выражении - "Активи" и не денежном - "Кылькысть банкiв".

___________________

Скриншоты приложения:

![Alt text](/opendata-explorer/ss/01.png?raw=true "Грошові агрегати - Грошова маса - Усі сектори")

![Alt text](/opendata-explorer/ss/02.png?raw=true "Валовий зовнішній борг - Усього")

![Alt text](/opendata-explorer/ss/03.png?raw=true "Основні показники діяльності банків - Кредити, що надані фізичним особам - Графік")

![Alt text](/opendata-explorer/ss/04.png?raw=true "Основні показники діяльності банків - Кредити, що надані фізичним особам - Табличний вигляд")

___________________


[DEMO](http://test.roomian.org/opendata-explorer/ "DEMO")

